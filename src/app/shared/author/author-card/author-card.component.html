<section class="author_card" *ngIf="author">

  <div class="author_data">
    <div class="author_data_img_wrap">
      <img class="author_data_img" [src]="author.image" alt="Imagen del usuario">
    </div>
    <div class="author_data_name">
      {{author.fullName}}
    </div>
    <div class="author_data_followers">
      <small (click)="toggleFollowersPopup()" style="cursor: pointer;">Seguidores: {{followerCount}}</small>
    </div>
  </div>

  <nav class="author_nav">
    <ul class="author_nav_list">
      <li class="author_nav_list_item" routerLinkActive="author_nav_list_item-selected">
        <a class="author_nav_list_link" routerLink="/profile/{{author.id}}/my-twimps">Mis Twits</a>
      </li>
      <li class="author_nav_list_item" routerLinkActive="author_nav_list_item-selected">
        <a class="author_nav_list_link" routerLink="/profile/{{author.id}}/favorite-twimps">Mis Favoritos</a>
      </li>
    </ul>
  </nav>

  <button *ngIf="author?.id !== currentUserId" (click)="toggleFollow()" class="follow-button">
    {{ isFollowing ? 'Dejar de seguir' : 'Seguir' }}
  </button>

  <!-- Lista de seguidores -->
  <div *ngIf="showFollowersPopup" class="popup">
    <div class="popup-content">
      <h3>Seguidores</h3>
      <ul>
        <li *ngIf="followers.length === 0">No hay seguidores</li>
        <li *ngFor="let follower of followers">
          <img [src]="follower.image" alt="Imagen del usuario" class="follower-image">
          <span>{{follower.fullName}}</span>
        </li>
      </ul>
      <button (click)="toggleFollowersPopup()">Cerrar</button>
    </div>
  </div>

</section>